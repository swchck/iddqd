# Log4j

## ~~Что такое логгер~~

## Из чего состоит логгер

Любой регистратор событий состоит из трех элементов:

- Регистратора - `logger`
- Вывода - `appender`
- Форматера для вывода - `layout`

## Какие есть уровни сообщении в log4j

Приоритетов может быть 6:

- **FATAL** - произошла фатальная ошибка - у этого сообщения наивысший - приоритет
- **ERROR** - в программе произошла ошибка
- **WARN** - предупреждение в программе что-то не так
- **INFO** - информация.
- **DEBUG** - детальная информация для отладки
- **TRACE**– трассировка всех сообщений в указанный аппендер

## Что такое `Appender`

Вывод регистратора может быть направлен в различные места назначения: файл, консоль и каждому из них соответствует класс, реализующий интерфейс `org.apache.log4j.Appender`. Кроме того, вывод в базу данных можно произвести с помощью класса `JDBCAppender`, в журнал событий ОС - `NTEventLogAppender`, на SMTP-сервер - `SMTPAppender`.

Если логгер - это та точка, откуда уходят сообщения в коде, то аппендер - это та точка, куда они приходят в конечном итоге.

Список таких точек, поддерживаемых Log4J:

- Вывод в консоль
- Файлы (несколько различных типов)
- База данных (JDBC)
- ~~Темы (topics) JMS~~
- NT Event Log
- SMTP
- Socket
- Syslog
- Telnet
- `java.io.Writer` или `java.io.OutputStream`

## Какие основные аппендеры Log4j

Основными аппендерами, использующимися наиболее широко, являются файловые аппендеры. Их есть несколько типов:

```Java
org.apache.log4j.FileAppender
org.apache.log4j.RollingFileAppender
org.apache.log4j.DailyRollingFileAppender
```

Вывод регистратора может иметь различный формат. Каждый формат представлен классом, производным от `Layout`. Все методы класса `Layout` предназначены только для создания подклассов.

`org.apache.log4j.SimpleLayout` - наиболее простой вариант. На выходе читается уровень вывода и сообщение.
`org.apache.log4j.HTMLLayout` - данный компоновщик форматирует сообщения в виде HTML-страницы.
`org.apache.log4j.xml.XMLLayout` - формирует сообщения в виде XML.
`org.apache.log4j.PatternLayout` и `org.apache.log4j.EnhancedPatternLayout` используют шаблонную строку для форматирования выводимого сообщения.
